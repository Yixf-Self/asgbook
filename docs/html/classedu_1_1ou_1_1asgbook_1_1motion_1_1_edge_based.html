<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Automating Analysis of Spatial Grids: edu.ou.asgbook.motion.EdgeBased Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Packages</span></a></li>
    <li id="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespaceedu.html">edu</a>.<a class="el" href="namespaceedu_1_1ou.html">ou</a>.<a class="el" href="namespaceedu_1_1ou_1_1asgbook.html">asgbook</a>.<a class="el" href="namespaceedu_1_1ou_1_1asgbook_1_1motion.html">motion</a>.<a class="el" href="classedu_1_1ou_1_1asgbook_1_1motion_1_1_edge_based.html">EdgeBased</a></div>
<h1>edu.ou.asgbook.motion.EdgeBased Class Reference</h1><!-- doxytag: class="edu::ou::asgbook::motion::EdgeBased" --><!-- doxytag: inherits="edu::ou::asgbook::motion::MotionEstimator" -->Estimates motion based on the displacement of edges.  
<a href="#_details">More...</a>
<p>
Inheritance diagram for edu.ou.asgbook.motion.EdgeBased:<p><center><img src="classedu_1_1ou_1_1asgbook_1_1motion_1_1_edge_based__inherit__graph.png" border="0" usemap="#edu_8ou_8asgbook_8motion_8_edge_based__inherit__map" alt="Inheritance graph"></center>
<map name="edu_8ou_8asgbook_8motion_8_edge_based__inherit__map">
<area href="interfaceedu_1_1ou_1_1asgbook_1_1motion_1_1_motion_estimator.html" shape="rect" coords="5,5,280,35" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for edu.ou.asgbook.motion.EdgeBased:<p><center><img src="classedu_1_1ou_1_1asgbook_1_1motion_1_1_edge_based__coll__graph.png" border="0" usemap="#edu_8ou_8asgbook_8motion_8_edge_based__coll__map" alt="Collaboration graph"></center>
<map name="edu_8ou_8asgbook_8motion_8_edge_based__coll__map">
<area href="interfaceedu_1_1ou_1_1asgbook_1_1motion_1_1_motion_estimator.html" shape="rect" coords="5,197,280,227" alt="">
<area href="classedu_1_1ou_1_1asgbook_1_1filters_1_1_sobel_edge_filter.html" shape="rect" coords="304,197,568,227" alt="">
<area href="interfaceedu_1_1ou_1_1asgbook_1_1filters_1_1_spatial_filter.html" shape="rect" coords="283,5,517,35" alt="">
<area href="classedu_1_1ou_1_1asgbook_1_1filters_1_1_convolution_filter.html" shape="rect" coords="387,85,656,115" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="classedu_1_1ou_1_1asgbook_1_1motion_1_1_edge_based-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Override Pair&lt; <a class="el" href="classedu_1_1ou_1_1asgbook_1_1core_1_1_lat_lon_grid.html">LatLonGrid</a>,<br>
 <a class="el" href="classedu_1_1ou_1_1asgbook_1_1core_1_1_lat_lon_grid.html">LatLonGrid</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classedu_1_1ou_1_1asgbook_1_1motion_1_1_edge_based.html#75966c1c9b1261bf84bb1d13421ecc32">compute</a> (<a class="el" href="classedu_1_1ou_1_1asgbook_1_1core_1_1_lat_lon_grid.html">LatLonGrid</a> data0, <a class="el" href="classedu_1_1ou_1_1asgbook_1_1core_1_1_lat_lon_grid.html">LatLonGrid</a> data1, File outdir)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns motion in the two directions.  <a href="#75966c1c9b1261bf84bb1d13421ecc32"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classedu_1_1ou_1_1asgbook_1_1motion_1_1_edge_based.html#7ff473925da94022f0df5902fcd72233">main</a> (String[] args)  throws Exception </td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Estimates motion based on the displacement of edges. 
<p>
<dl compact><dt><b>Author:</b></dt><dd>v.lakshmanan </dd></dl>

<p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="75966c1c9b1261bf84bb1d13421ecc32"></a><!-- doxytag: member="edu::ou::asgbook::motion::EdgeBased::compute" ref="75966c1c9b1261bf84bb1d13421ecc32" args="(LatLonGrid data0, LatLonGrid data1, File outdir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Override Pair&lt;<a class="el" href="classedu_1_1ou_1_1asgbook_1_1core_1_1_lat_lon_grid.html">LatLonGrid</a>, <a class="el" href="classedu_1_1ou_1_1asgbook_1_1core_1_1_lat_lon_grid.html">LatLonGrid</a>&gt; edu.ou.asgbook.motion.EdgeBased.compute           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classedu_1_1ou_1_1asgbook_1_1core_1_1_lat_lon_grid.html">LatLonGrid</a>&nbsp;</td>
          <td class="paramname"> <em>data0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classedu_1_1ou_1_1asgbook_1_1core_1_1_lat_lon_grid.html">LatLonGrid</a>&nbsp;</td>
          <td class="paramname"> <em>data1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">File&nbsp;</td>
          <td class="paramname"> <em>outdir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns motion in the two directions. 
<p>
The first one is north to south and the second one is east to west. The data is aligned to second time frame. The output dir is used for intermediate products and may be null. 
<p>
Implements <a class="el" href="interfaceedu_1_1ou_1_1asgbook_1_1motion_1_1_motion_estimator.html#40d10e32607c78de8b7cb7510d2e6b4e">edu.ou.asgbook.motion.MotionEstimator</a>.<div class="fragment"><pre class="fragment"><a name="l00030"></a>00030                                                                                                 {
<a name="l00031"></a>00031         <span class="comment">// do an edge filter on the pair of images</span>
<a name="l00032"></a>00032         LatLonGrid edge0 = edgeFilter.edgeFilter(data0);
<a name="l00033"></a>00033         LatLonGrid edge1 = edgeFilter.edgeFilter(data1);
<a name="l00034"></a>00034         
<a name="l00035"></a>00035         <span class="keywordflow">if</span> (outdir != null){
<a name="l00036"></a>00036             <span class="keywordflow">try</span> {
<a name="l00037"></a>00037                 KmlWriter.write(edge0, outdir, <span class="stringliteral">"edge0"</span>, PngWriter.createCoolToWarmColormap());
<a name="l00038"></a>00038                 KmlWriter.write(edge1, outdir, <span class="stringliteral">"edge1"</span>, PngWriter.createCoolToWarmColormap());
<a name="l00039"></a>00039             } <span class="keywordflow">catch</span> (Exception e) {
<a name="l00040"></a>00040                 e.printStackTrace();
<a name="l00041"></a>00041             }
<a name="l00042"></a>00042         }
<a name="l00043"></a>00043         
<a name="l00044"></a>00044         <span class="keywordflow">return</span> hornSchunk.compute(edge0, edge1, outdir);
<a name="l00045"></a>00045     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="7ff473925da94022f0df5902fcd72233"></a><!-- doxytag: member="edu::ou::asgbook::motion::EdgeBased::main" ref="7ff473925da94022f0df5902fcd72233" args="(String[] args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void edu.ou.asgbook.motion.EdgeBased.main           </td>
          <td>(</td>
          <td class="paramtype">String[]&nbsp;</td>
          <td class="paramname"> <em>args</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">  throws Exception <code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment"><a name="l00047"></a>00047                                                             {
<a name="l00048"></a>00048         <span class="comment">// create output directory</span>
<a name="l00049"></a>00049         File out = OutputDirectory.getDefault(<span class="stringliteral">"edgemotion"</span>);
<a name="l00050"></a>00050         
<a name="l00051"></a>00051         <span class="comment">// read</span>
<a name="l00052"></a>00052         File f = <span class="keyword">new</span> File(<span class="stringliteral">"data/seviri"</span>);
<a name="l00053"></a>00053         Pair&lt;LatLonGrid,Date&gt;[] grids = SeviriInfraredTemperature.readAll(f);
<a name="l00054"></a>00054         
<a name="l00055"></a>00055         <span class="comment">// do alg</span>
<a name="l00056"></a>00056         MotionEstimator alg = <span class="keyword">new</span> EdgeBased();
<a name="l00057"></a>00057         Pair&lt;LatLonGrid,LatLonGrid&gt; motion = alg.compute(grids[0].first, grids[1].first, out);
<a name="l00058"></a>00058         
<a name="l00059"></a>00059         <span class="comment">// write</span>
<a name="l00060"></a>00060         SaturateFilter filter = <span class="keyword">new</span> SaturateFilter(-150, 150);
<a name="l00061"></a>00061         LatLonGrid u = filter.filter(motion.first);
<a name="l00062"></a>00062         LatLonGrid v = filter.filter(motion.second);
<a name="l00063"></a>00063         KmlWriter.write(u, out, <span class="stringliteral">"opticflow_u"</span>, PngWriter.createCoolToWarmColormap());
<a name="l00064"></a>00064         KmlWriter.write(v, out, <span class="stringliteral">"opticflow_v"</span>, PngWriter.createCoolToWarmColormap());
<a name="l00065"></a>00065     }
</pre></div>
<p>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Fri Jan 27 09:58:55 2012 for Automating Analysis of Spatial Grids by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
